<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::content}, ~{::scripts})}">
<head><title>Low Stock</title></head>
<body>
<th:block th:fragment="content">
    <h1 class="h4 mb-4">Low Stock Report</h1>
    <form method="get" class="mb-3 d-flex gap-2 align-items-center">
        <label for="threshold">Threshold</label>
        <input type="number" id="threshold" name="threshold" th:value="${threshold}" min="0" class="form-control" style="max-width:100px"/>
        <button type="submit" class="btn btn-primary">Apply</button>
    </form>
    <div class="table-responsive">
        <table class="table table-bordered">
            <thead><tr><th>Product</th><th>Category</th><th>Stock</th></tr></thead>
            <tbody>
            <tr th:each="item : ${items}">
                <td th:text="${item.product.name}"></td>
                <td th:text="${item.product.category}"></td>
                <td th:text="${item.stock}"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <a th:href="@{/reports}" class="btn btn-outline-secondary">Back</a>
</th:block>
<th:block th:fragment="scripts"></th:block>
</body>
</html>
